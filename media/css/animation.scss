/* ============================================================
 * Here we go!! Another madness more... 
 * ============================================================
 *
 * Testing the possibilities that CSS Grid layout will offer us,
 * in this example we created a grid to paint them and create pixel art ;)
 *
 */


 // ============================================================
 // Variables
 
 $c-supermario__dimension:          20px !default;
 $c-supermario__columns:            12 !default;
 $c-supermario__rows:               16 !default;
 $c-supermario__gap:                0px !default;
 
 $c-supermario2__dimension:          20px !default;
 $c-supermario2__columns:            16 !default;
 $c-supermario2__rows:               14 !default;
 $c-supermario2__gap:                0px !default;

 $c-supermario_run__dimension:          20px !default;
 $c-supermario_run__columns:            16 !default;
 $c-supermario_run__rows:               16 !default;
 $c-supermario_run__gap:                0px !default;

 $c-supermario__width:              $c-supermario__dimension * $c-supermario__columns !default;
 $c-supermario__height:             $c-supermario__dimension * $c-supermario__rows !default;
 $c-supermario2__width:              $c-supermario2__dimension * $c-supermario2__columns !default;
 $c-supermario2__height:             $c-supermario2__dimension * $c-supermario2__rows !default;
 $c-supermario_run__width:              $c-supermario_run__dimension * $c-supermario_run__columns !default;
 $c-supermario_run__height:             $c-supermario_run__dimension * $c-supermario_run__rows !default;

 
 $c-supermario__colors--w:          transparent !default;
 $c-supermario__colors--r:          #00519f !default;
 $c-supermario__colors--y:          #f6c084 !default;
 $c-supermario__colors--g:          #5d3712 !default;
 $c-supermario__colors--t:          #f6f700 !default;
 $c-supermario__colors--b:          #f60002 !default;
 $c-supermario__colors--B:          #000 !default;

 $c-supermario2__colors--w:          transparent !default;
 $c-supermario2__colors--r:          #00519f !default;
 $c-supermario2__colors--y:          #f6c084 !default;
 $c-supermario2__colors--g:          #5d3712 !default;
 $c-supermario2__colors--t:          #f6f700 !default;
 $c-supermario2__colors--b:          #f60002 !default;
 $c-supermario2__colors--B:          #000 !default;

 $c-supermario_run__colors--w:          transparent !default;
 $c-supermario_run__colors--b:          #00519f !default;
 $c-supermario_run__colors--y:          #f6c084 !default;
 $c-supermario_run__colors--h:          #5d3712 !default;
 $c-supermario_run__colors--t:          #f6f700 !default;
 $c-supermario_run__colors--r:          #f60002 !default;

 
 $c-supermario__colors : (
   'w':    $c-supermario__colors--w,
   'r':    $c-supermario__colors--r,
   'y':    $c-supermario__colors--y,
   'g':    $c-supermario__colors--g,
   'b':    $c-supermario__colors--b,
   'B':    $c-supermario__colors--B,
   't':    $c-supermario__colors--t
 ) !default;
 $c-supermario2__colors : (
  'w':    $c-supermario2__colors--w,
  'r':    $c-supermario2__colors--r,
  'y':    $c-supermario2__colors--y,
  'g':    $c-supermario2__colors--g,
  'b':    $c-supermario2__colors--b,
  'B':    $c-supermario2__colors--B,
  't':    $c-supermario2__colors--t
) !default;
$c-supermario_run__colors : (
  'w':    $c-supermario_run__colors--w,
  'b':    $c-supermario_run__colors--b,
  'y':    $c-supermario_run__colors--y,
  'h':    $c-supermario_run__colors--h,
  't':    $c-supermario_run__colors--t,
  'r':    $c-supermario_run__colors--r
) !default;
 
 $c-supermario__cells : (
   'w', 'w', 'w', 'b', 'b', 'b', 'b', 'b', 'w', 'w', 'w', 'w',
   'w', 'w', 'b', 'b', 'b', 'b', 'b', 'b', 'b', 'b', 'b', 'w',
   'w', 'w', 'g', 'g', 'g', 'y', 'y', 'g', 'y', 'w', 'w', 'w',
   'w', 'g', 'y', 'g', 'y', 'y', 'y', 'g', 'y', 'y', 'y', 'w',
   'w', 'g', 'y', 'g', 'g', 'y', 'y', 'y', 'g', 'y', 'y', 'y',
   'w', 'g', 'g', 'y', 'y', 'y', 'y', 'g', 'g', 'g', 'g', 'w',
   'w', 'w', 'w', 'y', 'y', 'y', 'y', 'y', 'y', 'y', 'w', 'w',
   'w', 'w', 'b', 'b', 'r', 'b', 'b', 'r', 'w', 'w', 'w', 'w',
   'w', 'b', 'b', 'b', 'r', 'b', 'b', 'r', 'b', 'b', 'b', 'w',
   'b', 'b', 'b', 'b', 'r', 'r', 'r', 'r', 'b', 'b', 'b', 'b',
   'y', 'y', 'b', 'r', 't', 'r', 'r', 't', 'r', 'b', 'y', 'y',
   'y', 'y', 'y', 'r', 'r', 'r', 'r', 'r', 'r', 'y', 'y', 'y',
   'y', 'y', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'y', 'y',
   'w', 'w', 'r', 'r', 'r', 'w', 'w', 'r', 'r', 'r', 'w', 'w',
   'w', 'g', 'g', 'g', 'w', 'w', 'w', 'w', 'g', 'g', 'g', 'w',
   'g', 'g', 'g', 'g', 'w', 'w', 'w', 'w', 'g', 'g', 'g', 'g'
 ) !default;
 
 $c-supermario__positions: length($c-supermario__cells);

 

 $c-supermario2__cells : (
   'w', 'w', 'w', 'w', 'w', 'b', 'b', 'b', 'b', 'b', 'w', 'w', 'y', 'y', 'y', 'w',
   'w', 'w', 'w', 'w', 'b', 'b', 'b', 'b', 'b', 'b', 'b', 'b', 'b', 'y', 'y', 'w',
   'w', 'w', 'w', 'w', 'g', 'g', 'g', 'y', 'y', 'g', 'y', 'w', 'b', 'b', 'b', 'w',
   'w', 'w', 'w', 'g', 'y', 'g', 'y', 'y', 'y', 'g', 'y', 'y', 'y', 'b', 'b', 'w',
   'w', 'w', 'w', 'g', 'y', 'g', 'g', 'y', 'y', 'y', 'g', 'y', 'y', 'y', 'b', 'w',
   'w', 'w', 'w', 'g', 'g', 'y', 'y', 'y', 'y', 'g', 'g', 'g', 'g', 'b', 'w', 'w',
   'w', 'w', 'w', 'w', 'w', 'y', 'y', 'y', 'y', 'y', 'y', 'y', 'b', 'b', 'w', 'w',
   'y', 'y', 'b', 'b', 'b', 'b', 'r', 'b', 'b', 'b', 'r', 'b', 'b', 'w', 'w', 'g',
   'y', 'y', 'b', 'b', 'b', 'b', 'b', 'r', 'b', 'b', 'b', 'r', 'w', 'w', 'g', 'g',
   'w', 'w', 'w', 'w', 'b', 'b', 'b', 'r', 'r', 'r', 'r', 't', 'r', 'r', 'g', 'g',
   'w', 'w', 'w', 'w', 'w', 'r', 'r', 'r', 't', 'r', 'r', 'r', 'r', 'r', 'g', 'g',
   'w', 'w', 'w', 'g', 'g', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'g', 'g',
   'w', 'w', 'g', 'g', 'g', 'r', 'r', 'r', 'r', 'r', 'r', 'w', 'w', 'w', 'w', 'w',
   'w', 'w', 'g', 'g', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w',
   'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w',
   'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w', 'w'


 ) !default;
 $c-supermario2__positions: length($c-supermario2__cells);







 $c-supermario_run__cells_0 : (
   'w','w','w',   'w','w','w',   'w','w','w',   'w','w','w',   'w','w','w',   'w',

   'w','w','w',   'w','w','r',   'r','r','r',   'r','w','w',   'w','w','w',   'w',
   'w','w','w',   'w','r','r',   'r','r','r',   'r','r','r',   'r','w','w',   'w',
   'w','w','w',   'w','h','h',   'h','y','y',   'h','y','w',   'w','w','w',   'w',

   'w','w','w',   'h','y','h',   'y','y','y',   'h','y','y',   'y','w','w',   'w',
   'w','w','w',   'h','y','h',   'h','y','y',   'y','h','y',   'y','y','w',   'w',
   'w','w','w',   'h','h','y',   'y','y','y',   'h','h','h',   'h','w','w',   'w',

   'w','w','w',   'w','w','y',   'y','y','y',   'y','y','y',   'w','w','w',   'w',
   'w','w','w',   'w','r','r',   'r','b','r',   'r','w','w',   'w','w','w',   'w',
   'w','w','w',   'r','r','r',   'r','b','b',   'r','r','w',   'w','w','w',   'w',

   'w','w','w',   'r','r','r',   'b','b','t',   'b','b','w',   'w','w','w',   'w',
   'w','w','w',   'r','r','r',   'r','b','b',   'b','b','w',   'w','w','w',   'w',
   'w','w','w',   'r','r','r',   'y','y','b',   'b','b','w',   'w','w','w',   'w',

   'w','w','w',   'w','b','r',   'y','y','b',   'b','w','w',   'w','w','w',   'w',
   'w','w','w',   'w','w','b',   'b','b','r',   'r','r','w',   'w','w','w',   'w',
   'w','w','w',   'w','w','r',   'r','r','r',   'w','w','w',   'w','w','w',   'w'

 ) !default;





 $c-supermario_run__cells_1 : (
  'w','w','w',   'w','w','r',   'r','r','r',   'r','w','w',   'w','w','w',   'w',

  'w','w','w',   'w','r','r',   'r','r','r',   'r','r','r',   'r','w','w',   'w',
  'w','w','w',   'w','h','h',   'h','y','y',   'h','y','w',   'w','w','w',   'w',
  'w','w','w',   'h','y','h',   'y','y','y',   'h','y','y',   'y','w','w',   'w',

  'w','w','w',   'h','y','h',   'h','y','y',   'y','h','y',   'y','y','w',   'w',
  'w','w','w',   'h','h','y',   'y','y','y',   'h','h','h',   'w','w','w',   'w',
  'w','w','w',   'w','w','y',   'y','y','y',   'y','y','y',   'w','w','w',   'w',

  'w','w','w',   'w','w','w',   'r','r','b',   'b','r','w',   'w','w','w',   'w',
  'w','w','w',   'w','w','r',   'r','r','r',   'b','r','y',   'y','w','w',   'w',
  'w','w','w',   'y','y','r',   'r','r','r',   'r','r','y',   'y','y','w',   'w',

  'w','w','y',   'y','y','b',   'r','r','r',   'r','r','y',   'y','w','w',   'w',
  'w','w','w',   'h','h','b',   'b','b','b',   'b','b','b',   'w','w','w',   'w',
  'w','w','w',   'h','b','b',   'b','b','b',   'b','b','b',   'w','w','w',   'w',

  'w','w','h',   'h','b','b',   'w','w','b',   'b','b','w',   'w','w','w',   'w',
  'w','w','h',   'w','w','w',   'w','h','h',   'h','w','w',   'w','w','w',   'w',
  'w','w','w',   'w','w','w',   'w','w','h',   'h','h','w',   'w','w','w',   'w'

 ) !default;




//  w b y h t r


 $c-supermario_run__cells_2 : (
  'w','w','w',   'w','w','r',   'r','r','r',   'r','w','w',   'w','w','w',   'w',

  'w','w','w',   'w','r','r',   'r','r','r',   'r','r','r',   'r','w','w',   'w',
  'w','w','w',   'w','h','h',   'h','y','y',   'h','y','w',   'w','w','w',   'w',
  'w','w','w',   'h','y','h',   'y','y','y',   'h','y','y',   'y','w','w',   'w',

  'w','w','w',   'h','y','h',   'h','y','y',   'y','h','y',   'y','y','w',   'w',
  'w','w','w',   'h','h','y',   'y','y','y',   'h','h','h',   'h','w','w',   'w',
  'w','w','w',   'w','w','y',   'y','y','y',   'y','y','y',   'w','w','w',   'w',

  'w','w','r',   'r','r','r',   'b','r','r',   'r','b','w',   'w','w','w',   'w',
  'y','y','r',   'r','r','r',   'b','b','r',   'r','r','b',   'r','y','y',   'y',
  'y','y','y',   'w','r','r',   'b','b','b',   'b','b','b',   'r','r','y',   'y',

  'y','y','w',   'w','b','b',   'b','t','b',   'b','b','t',   'w','w','h',   'w',
  'w','w','w',   'b','b','b',   'b','b','b',   'b','b','b',   'b','h','h',   'w',
  'w','w','b',   'b','b','b',   'b','b','b',   'b','b','b',   'b','h','h',   'w',

  'w','h','h',   'b','b','b',   'w','w','w',   'w','b','b',   'b','h','h',   'w',
  'w','h','h',   'h','w','w',   'w','w','w',   'w','w','w',   'w','w','w',   'w',
  'w','w','h',   'h','h','w',   'w','w','w',   'w','w','w',   'w','w','w',   'w'

 ) !default;

 $c-supermario_run__positions: length($c-supermario_run__cells_0);









 // ============================================================
 // Mixins & functions
 
 @mixin c-supermario__pixelart() {
   @for $i from 1 through $c-supermario__positions {
     > div:nth-child(#{$i}) {
       background: map-get($c-supermario__colors, nth($c-supermario__cells, $i));
     }
   }
 }
 @mixin c-supermario2__pixelart() {
  @for $i from 1 through $c-supermario2__positions {
    > div:nth-child(#{$i}) {
      background: map-get($c-supermario2__colors, nth($c-supermario2__cells, $i));
    }
  }
}

@mixin c-supermario_run__pixelart_1() {
  @for $i from 1 through $c-supermario_run__positions {
    > div:nth-child(#{$i}) {
      background: map-get($c-supermario_run__colors, nth($c-supermario_run__cells_0, $i));
    }
  }
}

@mixin c-supermario_run__pixelart_2() {
  @for $i from 1 through $c-supermario_run__positions {
    > div:nth-child(#{$i}) {
      background: map-get($c-supermario_run__colors, nth($c-supermario_run__cells_1, $i));
    }
  }
}

@mixin c-supermario_run__pixelart_3() {
  @for $i from 1 through $c-supermario_run__positions {
    > div:nth-child(#{$i}) {
      background: map-get($c-supermario_run__colors, nth($c-supermario_run__cells_2, $i));
    }
  }
}



 
//  @keyframes wink {
//    0%, 100% {
//      background: $c-supermario__colors--g;
//    }
//    90% {
//      background: $c-supermario__colors--y;
//    }
//  }
 
 
 
 
 // ============================================================
 // Output CSS
 
 
//  body {
//    background: #000;
//    margin: 0;
//    padding: 0;
//    height: 100vh;
//    display: flex;
//    align-items: center;
//    justify-content: center;
//  }
 
 
 .c-supermario {
   width: $c-supermario__width;
   height: $c-supermario__height;
   display: grid;
   grid-template-columns: repeat($c-supermario__columns, 1fr);
   grid-template-rows: repeat($c-supermario__rows, 1fr);
   grid-column-gap: $c-supermario__gap;
   grid-row-gap: $c-supermario__gap;
   animation: gap 4.5s linear forwards;
 
   @include c-supermario__pixelart();  
 }
 
 .c-supermario2 {
  width: $c-supermario2__width;
  height: $c-supermario2__height;
  display: grid;
  grid-template-columns: repeat($c-supermario2__columns, 1fr);
  grid-template-rows: repeat($c-supermario2__rows, 1fr);
  grid-column-gap: $c-supermario2__gap;
  grid-row-gap: $c-supermario2__gap;
  animation: gap 4.5s linear forwards;

  @include c-supermario2__pixelart();  
}

.marioBox .c-supermario_run  {
  display: none;
  width: $c-supermario_run__width;
  height: $c-supermario_run__height;
  display: grid;
  grid-template-columns: repeat($c-supermario_run__columns, 1fr);
  grid-template-rows: repeat($c-supermario_run__rows, 1fr);
  grid-column-gap: $c-supermario_run__gap;
  grid-row-gap: $c-supermario_run__gap;
  @include c-supermario_run__pixelart_1();

}

.c-supermario_run.second  {
  width: $c-supermario_run__width;
  height: $c-supermario_run__height;
  display: grid;
  grid-template-columns: repeat($c-supermario_run__columns, 1fr);
  grid-template-rows: repeat($c-supermario_run__rows, 1fr);
  grid-column-gap: $c-supermario_run__gap;
  grid-row-gap: $c-supermario_run__gap;

  @include c-supermario_run__pixelart_2();  
}

.c-supermario_run.third  {
  width: $c-supermario_run__width;
  height: $c-supermario_run__height;
  display: grid;
  grid-template-columns: repeat($c-supermario_run__columns, 1fr);
  grid-template-rows: repeat($c-supermario_run__rows, 1fr);
  grid-column-gap: $c-supermario_run__gap;
  grid-row-gap: $c-supermario_run__gap;

  @include c-supermario_run__pixelart_3();  
}

.c-supermario_run.moveRight {
  opacity: 0;
  animation: right 5s linear; animation-delay: 4.6s;
}

@keyframes right {

  5%{ opacity: 1; transform: translate(0,0);}
  7.5% {opacity: 0.2;}
  10.0% {opacity: 0.8;}
  14.5% {opacity: 0.2;}
  18.0% {opacity: 0.8;}
  21.5% {opacity: 0.2;}
  22.0% {opacity: 0.8;}
  25.5% {opacity: 0.2;}
  28.0% {opacity: 0.5;}
  31.5% {opacity: 0.9;}
  33.0% {opacity: 0.8;}
  35.5% {opacity: 0.9;}
  38.0% {opacity: 1;}

  80%{opacity: 1;}
  to{transform: translateX(900px); opacity: 0;}
  
}


.marioBox {display: flex; align-items: center; justify-content: center;}

.mario {
  transition: all 0.5s cubic-beziercubic-bezier(0.1, 0.7, 1.0, 0.1);
  perspective: 600px;
  position: absolute;

}

.mario div {
  transition: all 1s cubic-beziercubic-bezier(0.1, 0.7, 1.0, 0.1);
  ;
  position: static;
  width: 2px;
  height: 2px;
}

.c-supermario div {
  position: static;
  width: 20px;
  height: 20px;
  transition: all 3s cubic-beziercubic-bezier(0.1, 0.7, 1.0, 0.1);
  animation: roll 5s forwards cubic-bezier(.29, 0.1, 1, 1.01);
  ;
}

// .c-supermario2 {
//   display: none
// }

.c-supermario2 {
  opacity: 0;
  animation: opac 3s  forwards;
  animation-delay: 10s;
  animation-timing-function: cubic-beziercubic-bezier(0.1, 1.7, 1.0, 0.1);
  transition: all 1s ease;
}

@keyframes opac {
 to{opacity: 1;}  
}

.c-supermario2
 {
  opacity: 0;
  animation: bounce 3s infinite;
  animation-delay: 10s;
  animation-timing-function: cubic-beziercubic-bezier(0.1, 1.7, 1.0, 0.1);
  transition: all 1s ease;
}
// .c-supermario2 div:nth-of-type(n+6):nth-child(-n+10),
// .c-supermario2 div:nth-of-type(n+21):nth-child(-n+29) 
// {animation: bounce 3s infinite; animation-delay: 15.2s;}


.c-supermario2 div,
.c-supermario_run div {
  width: 20px;
  height: 20px;

}

@keyframes bounce {
  0% {
    transform: scale(1, 1) translateY(0); opacity: 1;
  }

  10% {
    transform: scale(1, .97) translateY(0);
  }

  30% {
    transform: scale(.9, 1.0) translateY(-10vh);
  }

  50% {
    transform: scale(1.0, .95) translateY(0);
  }

  57% {
    transform: scale(1, 1) translateY(-7px);
  }

  64% {
    transform: scale(1, 1) translateY(0);
  }

  100% {
    transform: scale(1, 1) translateY(0); opacity: 1;
  }
}

@keyframes gap {
  94% {
    grid-column-gap: 5px;
    grid-row-gap: 5px;

  }

  95% {
    grid-column-gap: 0;
    grid-row-gap: 0;
  }
}

@keyframes bounce2 {
  5%{opacity: 1; transform: translate(0,0); opacity: 1;}
40%{transform: translate(400px, -500px);}
100%{transform: translate(600px, 0px);opacity: 1;}
}
@keyframes roll {
  20% {
    width: 1px;
    height: 5px;
    border-radius: 10px;
  }

  55% {
    width: 5px;
    height: 5px;
  }

  53% {
    width: 5px;
    height: 5px;
    opacity: 1;
    transform: rotateY(3600deg);
  }

  53% {
    width: 5px;
    height: 5px;
    opacity: 1;
    transform: rotateY(3600deg);
  }
  95% {
    width: 20px;
    height: 20px;
  }

  96% {
    opacity: 1;
    width: 20px;
    height: 20px;
    transform: rotateY(3600deg);
  }


  //  97%{opacity:0;}
  //  98%{opacity: 1;}
  //  99%{opacity: 0;}
  //  99.1%{opacity: 1;}
  //  99.2%{opacity: 0;}
  //  99.3%{opacity: 1;}
  //  99.4%{opacity: 0;}
  //  99.5%{opacity: 1;}
  //  99.6%{opacity: 0;}
  //  99.7%{opacity: 1;}
  //  99.8%{opacity: 0;}
  98% {
    opacity: 1;
  }


  to {
    opacity: 0;
    width: 5px;
    transform: rotateY(3600deg);
    height: 5px;

  }

}



// .c-supermario2, .c-supermario {display: none;}
